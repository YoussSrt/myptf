<nav class="fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-lg border-b border-white/10">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-20">
      <!-- Logo -->
      <a href="/" class="text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
        YS
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="#home" class="nav-link relative group" data-section="home">
          <span>Home</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
        <a href="#about" class="nav-link relative group" data-section="about">
          <span>About</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
        <a href="#projects" class="nav-link relative group" data-section="projects">
          <span>Projects</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
        <a href="#skills" class="nav-link relative group" data-section="skills">
          <span>Skills</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
        <a href="#testimonials" class="nav-link relative group" data-section="testimonials">
          <span>Testimonials</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
        <a href="#contact" class="nav-link relative group" data-section="contact">
          <span>Contact</span>
          <div class="absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-0 bg-primary group-hover:h-full transition-all duration-300"></div>
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden text-white focus:outline-none" onclick="toggleMobileMenu()">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden md:hidden pb-4">
      <a href="#home" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="home">Home</a>
      <a href="#about" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="about">About</a>
      <a href="#projects" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="projects">Projects</a>
      <a href="#skills" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="skills">Skills</a>
      <a href="#testimonials" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="testimonials">Testimonials</a>
      <a href="#contact" class="block py-2 text-white/80 hover:text-white transition-colors nav-link" data-section="contact">Contact</a>
    </div>
  </div>
</nav>

<script>
  function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');

    if (mobileMenu.classList.contains('hidden')) {
      mobileMenu.classList.remove('hidden');
      mobileMenu.classList.add('animate-fade-in');
      menuIcon.setAttribute('d', 'M6 18L18 6M6 6l12 12');
    } else {
      mobileMenu.classList.add('hidden');
      menuIcon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');
    }
  }

  // Hide mobile menu on window resize if screen becomes larger
  window.addEventListener('resize', () => {
    if (window.innerWidth >= 768) {
      document.getElementById('mobile-menu').classList.add('hidden');
      document.getElementById('menu-icon').setAttribute('d', 'M4 6h16M4 12h16M4 18h16');
    }
  });

  function updateActiveNavLink() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');

    let currentSection = '';
    const scrollPosition = window.scrollY + window.innerHeight / 3;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        currentSection = section.getAttribute('id');
      }
    });

    navLinks.forEach(link => {
      const indicator = link.querySelector('div');
      if (link.getAttribute('href').replace('#', '') === currentSection) {
        link.classList.add('text-primary');
        indicator.classList.add('h-full');
        indicator.classList.remove('h-0');
      } else {
        link.classList.remove('text-primary');
        indicator.classList.remove('h-full');
        indicator.classList.add('h-0');
      }
    });
  }

  // Update active nav link on scroll and load
  window.addEventListener('scroll', updateActiveNavLink);
  window.addEventListener('load', updateActiveNavLink);
</script>
